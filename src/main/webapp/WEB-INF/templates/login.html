<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" layout:decorator="layout/sitelayout" ng-app="login">
<head>
    <meta charset="UTF-8">
    <object th:include="include-res::links" th:remove="tag"/>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.4/angular-material.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-animate.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-aria.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-messages.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.4/angular-material.min.js"></script>

    <script type="text/javascript" th:src="@{/resources/js/app.js}"></script>
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
    <title>Sigh up</title>
</head>
<body>
<div th:replace="header :: header">&nbsp;</div>

<div class="container">
    <div class="row" ng-controller="userController">
        <div class="col-md-6 col-md-offset-4">
            <legend th:text="#{login}">Login</legend>
            <md-content layout-padding>
                <form name="loginForm" id="loginForm" method="post">
                    <div ng-if="loginForm.$error.loginFailed">Login failed!</div>
                    <div ng-messages="loginForm.$error" role="alert">
                    </div>
                    <md-input-container class="md-block">
                        <label>Username</label>
                        <input md-maxlength="30" required name="username" ng-model="username" login-result >
                        <div ng-messages="loginForm.username.$error">
                            <div ng-message="required">This is required.</div>
                            <div ng-message="md-maxlength">The description must be less than 30 characters long.</div>
                            <span ng-show="loginForm.username.$invalid">This field is invalid </span>
                        </div>
                    </md-input-container>
                    <md-input-container class="md-block">
                        <label>Password</label>
                        <input required type="password" name="password" ng-model="password"
                               minlength="6" maxlength="12" login-result />

                        <div ng-messages="loginForm.password.$error" role="alert">
                            <div ng-message-exp="['required', 'minlength', 'maxlength']">
                                Your password must be between 6 and 12 characters long.
                            </div>
                        </div>
                    </md-input-container>

                    <div>
                        <md-button type="submit" id="login-btn" ng-disabled="loginForm.$invalid">Submit</md-button>
                    </div>
                </form>
                <div id="loginResult"></div>
                <a href="#" th:href="@{/users/forgot-password}" class="forgot-password">
                    Forgot the password?
                </a>
            </md-content>
        </div>
    </div>
</div>

</div>
</body>
</html>