<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org" ng-app="forgotPass">

  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <object th:include="include-res::links" th:remove="tag"/>
	  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.4/angular-material.min.css">
	  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
	  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-animate.min.js"></script>
	  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-aria.min.js"></script>
	  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-messages.min.js"></script>
	  <script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.4/angular-material.min.js"></script>

	  <script type="text/javascript" th:src="@{/resources/js/app.js}"></script>
     <title th:text="#{recovering.password}">Recovering password</title>
  </head>

  <body>
    <div th:replace="header :: header">&nbsp;</div>
    
    <div class="container">
		<div class="row" ng-controller="userController">
			<div class="col-md-6 col-md-offset-4">
				<md-content layout-padding>
					<legend th:text="#{recovering.password}">Recovering password</legend>
					<form name="forgotPassForm" th:object="${forgotPasswordForm}" th:action="@{/users/reset-password}" method="post">

						<md-input-container class="md-block">
							<label th:text="#{email}">Email</label>
							<input required type="email" name="email" ng-model="email"
								   minlength="10" maxlength="100" ng-pattern="/^.+@.+\..+$/"
								   email-available ng-model-options="{ updateOn: 'blur' }" />
							<div ng-messages="forgotPassForm.email.$error" role="alert">
								<div ng-message-exp="['required', 'minlength', 'maxlength', 'pattern']" th:text="#{email.error.description}">
									Your email must be between 10 and 100 characters long and look like an e-mail address.
								</div>
								<span ng-show="forgotPassForm.email.$invalid" th:text="#{invalid}">This field is invalid </span>
							</div>
						</md-input-container>

						<div>
							<md-button type="submit" ng-disabled="forgotPassForm.$invalid" th:text="#{submit}">Submit</md-button>
						</div>
					</form>
				</md-content>
			</div>
		</div>
    </div>
    
    <div class="blog-footer" th:replace="fragments :: footer">&copy; Kverchi</div>
  </body>
</html>